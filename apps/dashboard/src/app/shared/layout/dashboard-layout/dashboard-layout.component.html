<div class="dashboard">
  <aside class="sidebar">
    <div class="sidebar-brand">Task Manager</div>
    <nav class="sidebar-nav">
      <a routerLink="/tasks" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="nav-item">
        <span class="nav-icon">&#9670;</span>
        <span>Tasks</span>
      </a>
      @if ((user$ | async)?.role === 'Owner' || (user$ | async)?.role === 'Admin') {
        <a routerLink="/admin" routerLinkActive="active" class="nav-item">
          <span class="nav-icon">&#9881;</span>
          <span>Admin</span>
        </a>
      }
    </nav>
    <div class="sidebar-footer">
      <button type="button" class="theme-toggle" (click)="theme.toggle()" [attr.aria-label]="(theme.isDark() ? 'Switch to light' : 'Switch to dark') + ' mode'">
        {{ theme.isDark() ? '&#9728;' : '&#9790;' }}
      </button>
    </div>
  </aside>
  <div class="main">
    <header class="header">
      <div class="header-title"><ng-content select="[header-title]"></ng-content></div>
      <div class="header-actions">
        <div class="user-badge">
          <span class="user-email">{{ (user$ | async)?.email }}</span>
          <span class="user-role">{{ (user$ | async)?.role }}</span>
        </div>
        <button type="button" class="btn btn-ghost" (click)="logout()">Log out</button>
      </div>
    </header>
    <div class="content">
      <ng-content></ng-content>
    </div>
  </div>
</div>
